<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="åŒ—æµ·é“è‡ªé§•">
    
    <title>2025 åŒ—æµ·é“è‡ªé§•ä¹‹æ—…</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

    <style>
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* é»æ“Šé«˜äº®ç§»é™¤ */
        body { -webkit-tap-highlight-color: transparent; }
        
        /* iPhone å®‰å…¨å€åŸŸè®Šæ•¸ */
        :root {
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
        }

        /* å…§å®¹å€å¡Šé¿é–‹ç€æµ·èˆ‡åº•éƒ¨æ©«æ¢ */
        .safe-pt { padding-top: var(--safe-top); }
        .safe-pb { padding-bottom: var(--safe-bottom); }
        
        /* ä¸‹æ‹‰é¸å–®ç®­é ­ä¿®æ­£ */
        select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
            -webkit-print-color-adjust: exact;
            appearance: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans antialiased">
    
    <div id="root">
        <div class="min-h-screen flex flex-col items-center justify-center text-slate-400 space-y-4 safe-pb">
            <div class="w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"></div>
            <p class="text-sm font-medium">æ­£åœ¨è¼‰å…¥åŒ—æµ·é“è¡Œç¨‹...</p>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons (SVG Components) ---
        const Hotel = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 21h18"/><path d="M5 21V7l8-4 8 4v14"/><path d="M9 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/><path d="M9 21v-5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v5"/></svg>;
        const Utensils = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>;
        const Car = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/><path d="M14 17h-2"/></svg>;
        const MapPin = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>;
        const Navigation = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>;
        const ArrowLeft = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>;
        const Snowflake = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/><path d="m20 20-4-4"/><path d="m4 4 4 4"/><path d="m4 20 4-4"/><path d="m20 4-4 4"/></svg>;
        const PlaneIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 12h20"/><path d="M13 2l9 10-9 10"/><path d="M2 12l5-5m0 10l-5-5"/></svg>;
        const TreeIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 2L3 14h5v8h8v-8h5L12 2z"/></svg>;
        const ShoppingBag = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>;
        const HotSpring = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m4 10 2.5 2.5"/><path d="m7 10 2.5 2.5"/><path d="m10 10 2.5 2.5"/><path d="M12 2v2"/><path d="M12 18v2"/><path d="M16 4v16"/><path d="M20 4v16"/><path d="M8 14v6"/><path d="M4 14v6"/></svg>; 

        // --- Data (åŒ—æµ·é“è©³ç´°è¡Œç¨‹) ---
        const itineraryData = [
          {
            date: "2025-12-22",
            city: "Sapporo",
            hotel: "Quintessa Hotel Sapporo",
            activities: [
              { time: "09:00", type: "transit", name: "TSA æ¾å±±æ©Ÿå ´èµ·é£›", notes: "âœˆï¸ JL0096 (JAL) / è¡Œæ: 2ä»¶" },
              { time: "13:00", type: "transit", name: "æŠµé”æ±äº¬ç¾½ç”° (HND)", notes: "âš ï¸ éœ€å…¥å¢ƒé ˜è¡Œæ â” è½‰åœ‹å…§ç·šæ›è¡Œæ (T3 -> T1)" },
              { time: "15:30", type: "transit", name: "HND ç¾½ç”°èµ·é£›", notes: "âœˆï¸ JL0521 (åœ‹å…§ç·š)" },
              { time: "17:05", type: "transit", name: "æŠµé”æ–°åƒæ­² (CTS)", notes: "åˆ†ç§’å¿…çˆ­ï¼æ´¾äººå…ˆè¡ç§Ÿè»Šæ«ƒå°" },
              { time: "17:30", type: "transit", name: "SUZUKI ç§Ÿè»Šå–è»Š", notes: "â˜… è¨‚å–®: JS2501896 (åœ‹å…§ç·šæ«ƒå°) / 18:00å‰å‹™å¿…æŠµé”" },
              { time: "Drive", type: "transit", name: "å‰å¾€æœ­å¹Œå¸‚å€", notes: "è»Šç¨‹ç´„ 1 å°æ™‚ (æ³¨æ„é›ªåœ°é§•é§›)" },
              { time: "Check-in", type: "hotel", name: "Quintessa Hotel Sapporo", notes: "â˜… è¨‚å–®: 6840839171 (PIN: 4589) / ç¢ºèªåœè»Šä½" },
              { time: "Dinner", type: "dinner", name: "æœ­å¹Œæ¹¯å’–å“©", notes: "é£¯åº—é™„è¿‘ï¼šSuage+ æˆ– Samurai" }
            ]
          },
          {
            date: "2025-12-23",
            city: "Sapporo",
            hotel: "Quintessa Hotel Sapporo",
            activities: [
              { time: "09:30", type: "sightseeing", name: "Snow Cruise ONZE", notes: "ğŸ¿ æ»‘é›ªå›‰! (è¨‚å–®: 251108075341000650) / æµ·æ™¯æ»‘é›ªå ´" },
              { time: "15:30", type: "transit", name: "æ»‘é›ªçµæŸ / è¿”å›æœ­å¹Œ", notes: "ğŸš— è»Šç¨‹ç´„ 40 åˆ†" },
              { time: "Dinner", type: "dinner", name: "è–„é‡ (Susukino)", notes: "æ‹‰éºµæ©«ä¸æˆ–å±…é…’å±‹" },
              { time: "Shopping", type: "shopping", name: "å”å‰è¨¶å¾· / è—¥å¦", notes: "ç‹¸å°è·¯é€›è¡—" }
            ]
          },
          {
            date: "2025-12-24",
            city: "Sapporo",
            hotel: "Quintessa Hotel Sapporo",
            activities: [
              { time: "09:30", type: "sightseeing", name: "Snow Cruise ONZE", notes: "ğŸ¿ Day 2 æ»‘é›ª (è¨‚å–®: 251108075341000650)" },
              { time: "15:05", type: "transit", name: "SimonæŠµé”", notes: "âœˆï¸ JL3107 æŠµé”æ–°åƒæ­²" },
              { time: "16:30", type: "transit", name: "Simonå‰å¾€é£¯åº—", notes: "ğŸš† æ­ JR å¿«é€Ÿ Airport è‡³æœ­å¹Œç«™ â” è½‰è»Šè‡³é£¯åº—" },
              { time: "17:30", type: "hotel", name: "å…¨å“¡é£¯åº—æœƒåˆ", notes: "Quintessa Hotel / âš ï¸æœƒå…ˆå»ç™»è¨˜ç§Ÿè»Šä¿éšªå†å»é£¯åº—" },
              { time: "Dinner", type: "dinner", name: "è–èª•æ™šé¤", notes: "æ…¶ç¥å…¨å“¡åˆ°é½Šï¼(é¤å»³æˆ–è–èª•å¸‚é›†)" }
            ]
          },
          {
            date: "2025-12-25",
            city: "Sapporo",
            hotel: "Quintessa & LIT'S INN",
            activities: [
              { time: "10:30", type: "transit", name: "é€€æˆ¿ / å‡ºç™¼", notes: "ğŸš— å‰å¾€ä¸‰äº• Outlet (è¡Œæå…¨ä¸Šè»Š)" },
              { time: "11:10", type: "shopping", name: "ä¸‰äº• Outlet åŒ—å»£å³¶", notes: "é€›è¡—åƒåˆé¤ (å®¤å…§å‹é¿å¯’)" },
              { time: "13:40", type: "transit", name: "å‰å¾€æ–°åƒæ­²æ©Ÿå ´", notes: "ğŸš— æ¥æ©Ÿ / âš ï¸ æ³¨æ„è¡Œæç©ºé–“" },
              { time: "14:20", type: "transit", name: "çˆ¸çˆ¸åª½åª½æŠµé”", notes: "âœˆï¸ æ˜Ÿå®‡ JX850 (T1 09:20èµ·é£›)" },
              { time: "15:10", type: "transit", name: "åœ‹éš›ç·šæ¥æ©Ÿ", notes: "å…¥å¢ƒç´„éœ€ 50 åˆ† / å»ºè­°åœ B åœè»Šå ´" },
              { time: "16:30", type: "hotel", name: "LIT'S INN Sapporo", notes: "ğŸŸ¢ å…¨å“¡åˆ°é½Š / è¾¦ç†å…¥ä½" },
              { time: "17:30", type: "sightseeing", name: "æ…•å°¼é»‘è–èª•å¸‚é›†", notes: "ğŸ„ å¤§é€šå…¬åœ’ 2ä¸ç›® (æœ€å¾Œä¸€æ™š! è‡³ 21:00)" },
              { time: "18:30", type: "sightseeing", name: "ç™½è‰²ç‡ˆæ¨¹ç¯€", notes: "âœ¨ White Illumination (å¤§é€š 1-6ä¸ç›®)" },
              { time: "Dinner", type: "dinner", name: "è–èª•æ™šé¤", notes: "å¸‚é›†å°åƒ or è–„é‡å¤§é¤" }
            ]
          },
          {
            date: "2025-12-26",
            city: "Sapporo",
            hotel: "Quintessa & LIT'S INN",
            activities: [
              { time: "08:30", type: "lunch", name: "äºŒæ¢å¸‚å ´", notes: "æ—©é¤åƒè±ªè¯æµ·é®®ä¸¼ / è³¼è²·ä¹¾è²¨" },
              { time: "09:45", type: "sightseeing", name: "åŒ—æµ·é“å¤§å­¸", notes: "ğŸ« å…‹æ‹‰å…‹åƒ / ç™½é›ªæ ¡åœ’æ•£ç­– (éœ€åœæ­£é–€å¤–)" },
              { time: "11:00", type: "sightseeing", name: "åŒ—æµ·é“ç¥å®®", notes: "â›©ï¸ é›ªä¸­åƒæ‹œ / å¿…åƒå…­èŠ±äº­åˆ¤å®˜é¤…" },
              { time: "12:30", type: "sightseeing", name: "ç™½è‰²æˆ€äººå…¬åœ’", notes: "ğŸª æ­é¢¨åŸå ¡æ‹ç…§ / åœ’å€å…§åˆé¤" },
              { time: "15:30", type: "transit", name: "å‰å¾€è—»å²©å±±", notes: "ğŸš— ææ—©å‡ºç™¼é¿é–‹ä¸‹ç­è»Šæ½®" },
              { time: "16:00", type: "sightseeing", name: "è—»å²©å±±å¤œæ™¯", notes: "ğŸš  å¿…çœ‹! æ—¥æœ¬æ–°ä¸‰å¤§å¤œæ™¯ (æ—¥è½å‰æŠµé”)" },
              { time: "18:30", type: "sightseeing", name: "æœ­å¹Œé›»è¦–å¡”", notes: "ğŸ—¼ ä¿¯ç°å¤§é€šå…¬åœ’å¤œæ™¯" },
              { time: "Dinner", type: "dinner", name: "æœ­å¹Œå¸‚å€æ™šé¤", notes: "æˆå‰æ€æ±—çƒ¤è‚‰ / èƒèŸ¹æ–™ç†" }
            ]
          },
          {
            date: "2025-12-27",
            city: "Otaru",
            hotel: "STAY's OTARU",
            activities: [
              { time: "10:00", type: "transit", name: "é€€æˆ¿ / å‡ºç™¼å°æ¨½", notes: "ğŸš— æœ­æ¨½é“ç´„ 50 åˆ†é˜" },
              { time: "11:00", type: "hotel", name: "STAY's OTARU", notes: "è¾¦ç†å…¥ä½æˆ–å…ˆå¯„æ”¾è¡Œæ / é™„è¨­åœè»Šå ´" },
              { time: "12:30", type: "lunch", name: "ä¸‰è§’å¸‚å ´", notes: "åˆé¤ï¼šæµ·é®®ä¸¼ (æ­¦ç”°é®®é­šåº—/æ»æ³¢é£Ÿå ‚)" },
              { time: "14:00", type: "sightseeing", name: "å°æ¨½éŸ³æ¨‚ç›’åšç‰©é¤¨æœ¬é¤¨", notes: "ğŸµ æ²¿å ºç”ºé€šé–‹å§‹æ­¥è¡Œ" },
              { time: "15:00", type: "shopping", name: "å…­èŠ±äº­ / åŒ—è“æ¨“", notes: "è³¼è²·ä¼´æ‰‹ç¦® / å¤¢ä¸æ€è­°æ³¡èŠ™ / è‘¡è„å¥¶æ²¹å¤¾å¿ƒ" },
              { time: "16:00", type: "sightseeing", name: "LeTAO Pathos", notes: "ğŸ° é©åˆåä¸‹ä¾†å–ä¸‹åˆèŒ¶ã€ä¼‘æ¯é¿å¯’" },
              { time: "17:30", type: "sightseeing", name: "å‡ºæ‹”å°è·¯", notes: "æ‹ç…§ / å°åƒé»å¿ƒï¼Œèµ°åˆ°é‹æ²³é‚Š" },
              { time: "18:00", type: "sightseeing", name: "å°æ¨½é‹æ²³ (é»ç‡ˆå¤œæ™¯)", notes: "ğŸ“¸ å¿…æ‹ï¼æ·ºè‰æ©‹æ‹æ”é»" },
              { time: "19:00", type: "sightseeing", name: "å¤©ç‹—å±±å¤œæ™¯", notes: "ğŸš  é–‹è»Šä¸Šå±±åˆ°çºœè»Šç«™ (è¦–é›ªæ³è€Œå®š)" },
              { time: "Dinner", type: "dinner", name: "å°æ¨½å¸‚å€æ™šé¤", notes: "æ¨è–¦ï¼šè‹¥é›æ™‚ä»£ (ç‚¸åŠé›) æˆ–æ”¿å£½å¸" }
            ]
          },
          {
            date: "2025-12-28",
            city: "Shiraoi",
            hotel: "Hoshino Resorts KAI Poroto",
            activities: [
              { time: "10:00", type: "sightseeing", name: "æœé‡Œè»Šç«™", notes: "ğŸš è‡¨æµ·ç„¡äººè»Šç«™ / é †è·¯æ‹ç…§" },
              { time: "11:30", type: "shopping", name: "ä¸‰äº• Outlet Park", notes: "ğŸ›ï¸ åŒ—å»£å³¶ (é †è·¯å—ä¸‹ï¼Œé«˜é€Ÿå…¬è·¯æ—)" },
              { time: "Lunch", type: "lunch", name: "Outlet å…§ç”¨é¤", notes: "ç¾é£Ÿå»£å ´è§£æ±ºåˆé¤" },
              { time: "14:00", type: "transit", name: "å‰å¾€æ˜Ÿé‡ ç•Œ æ³¢ç¾…å¤š", notes: "ğŸš— è»Šç¨‹ç´„ 1 å°æ™‚ 20 åˆ† (èµ°é«˜é€Ÿå…¬è·¯)" },
              { time: "15:30", type: "hotel", name: "æ˜Ÿé‡é›†åœ˜ ç•Œ æ³¢ç¾…å¤š", notes: "â˜… Check-in / äº«å—æ¹–ç•”æ‘©çˆ¾æº«æ³‰" },
              { time: "Dinner", type: "dinner", name: "é£¯åº—æ™šé¤", notes: "ğŸ± åŒ—æµ·é“å­£ç¯€æ‡·çŸ³æ–™ç†" }
            ]
          },
          {
            date: "2025-12-29",
            city: "Chitose",
            hotel: "",
            activities: [
              { time: "Morning", type: "hotel", name: "ç•Œ æ³¢ç¾…å¤šæ™¨é–“æ´»å‹•", notes: "â™¨ï¸ æ³¡æº«æ³‰ / æ¹–ç•”æ•£æ­¥" },
              { time: "10:30", type: "transit", name: "å‰å¾€æ–°åƒæ­²æ©Ÿå ´", notes: "ğŸš— è»Šç¨‹ç´„ 50 åˆ†é˜" },
              { time: "11:30", type: "transit", name: "åŠ æ²¹ & ç§Ÿè»Šå…¬å¸é‚„è»Š", notes: "ğŸ SUZUKI æ«ƒå°åœ¨åœ‹å…§ç·šèˆªå»ˆ" },
              { time: "12:00", type: "shopping", name: "æ©Ÿå ´åœ‹å…§ç·šèˆªå»ˆ", notes: "ğŸ›ï¸ æœ€å¾Œæ¡è²· (å“†å•¦Aå¤¢/Royce/å…­èŠ±äº­)" },
              { time: "13:00", type: "transit", name: "åœ‹éš›ç·šæ«ƒå°å ±åˆ°", notes: "â° é ç•™å……è£•æ™‚é–“" }
            ]
          }
        ];

        // åŸå¸‚/å€åŸŸé…è‰² (é‡å°åŒ—æµ·é“èª¿æ•´ç‚ºé›ªåœ‹è‰²ç³»)
        const cityColors = {
          Sapporo: "bg-blue-100 text-blue-800 border-blue-200",
          Otaru: "bg-cyan-100 text-cyan-800 border-cyan-200",
          Shiraoi: "bg-stone-100 text-stone-800 border-stone-200", // æº«æ³‰è³ªæ„Ÿ
          Chitose: "bg-slate-100 text-slate-800 border-slate-200",
        };

        const cityBadges = {
          Sapporo: "â„ï¸ æœ­å¹Œ",
          Otaru: "ğŸŒŠ å°æ¨½",
          Shiraoi: "â™¨ï¸ ç™½è€",
          Chitose: "âœˆï¸ åƒæ­²",
        };

        function HokkaidoTripApp() {
          const [filterCity, setFilterCity] = useState('All');
          const [selectedDate, setSelectedDate] = useState(null);

          const filteredData = filterCity === 'All' 
            ? itineraryData 
            : itineraryData.filter(item => item.city === filterCity);

          const scrollToDate = (date) => {
            const element = document.getElementById(`date-${date}`);
            if (element) {
              const headerOffset = 120; // Adjust for sticky header
              const elementPosition = element.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
              window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            }
            setSelectedDate(date);
          };

          const openMap = (query) => {
              const url = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;
              window.open(url, '_blank');
          };

          return (
            <div className="min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 max-w-md mx-auto shadow-2xl border-x border-slate-200">
              {/* Header */}
              <div className="sticky top-0 z-50 bg-white/95 backdrop-blur-sm shadow-sm border-b border-slate-200 safe-pt">
                <div className="px-4 py-3 flex justify-between items-center">
                  <div>
                    <h1 className="text-xl font-extrabold text-slate-800 flex items-center gap-2 tracking-tight">
                      <Snowflake className="w-6 h-6 text-cyan-500" />
                      åŒ—æµ·é“è‡ªé§•ä¹‹æ—…
                    </h1>
                    <p className="text-xs text-slate-500 font-medium ml-0.5 mt-0.5">2025/12/22 - 12/29</p>
                  </div>
                  
                  {/* Dropdown Filter */}
                  <div className="relative">
                    <select 
                      value={filterCity} 
                      onChange={(e) => setFilterCity(e.target.value)}
                      className="appearance-none bg-slate-100 border border-transparent hover:border-slate-300 rounded-full pl-4 pr-8 py-2 text-sm font-bold text-slate-700 focus:ring-2 focus:ring-cyan-500 focus:outline-none cursor-pointer transition-all"
                    >
                      <option value="All">å…¨éƒ¨è¡Œç¨‹</option>
                      <option value="Sapporo">â„ï¸ æœ­å¹Œ</option>
                      <option value="Otaru">ğŸŒŠ å°æ¨½</option>
                      <option value="Shiraoi">â™¨ï¸ ç™½è€</option>
                    </select>
                  </div>
                </div>

                {/* Date Scroller */}
                <div className="overflow-x-auto flex gap-2 px-4 py-3 no-scrollbar bg-white/95 border-t border-slate-50">
                    {filteredData.map((day) => {
                       const dateObj = new Date(day.date);
                       const dayNum = dateObj.getDate();
                       const dayName = dateObj.toLocaleDateString('en-US', { weekday: 'short' });
                       const isSelected = selectedDate === day.date;

                       return (
                         <button
                           key={day.date}
                           onClick={() => scrollToDate(day.date)}
                           className={`flex flex-col items-center justify-center min-w-[3.6rem] h-14 rounded-2xl transition-all duration-200 border flex-shrink-0 ${
                             isSelected 
                               ? 'bg-cyan-600 text-white shadow-md scale-105 border-cyan-600' 
                               : 'bg-white text-slate-500 border-slate-100 hover:border-slate-200'
                           }`}
                         >
                           <span className={`text-[10px] font-bold uppercase tracking-wider ${isSelected ? 'text-cyan-100' : 'text-slate-400'}`}>{dayName}</span>
                           <span className="text-lg font-bold leading-none mt-0.5">{dayNum}</span>
                         </button>
                       );
                    })}
                </div>
              </div>

              {/* Main Content */}
              <div className="px-4 pt-6 space-y-10">
                
                {filteredData.map((day) => (
                  <div key={day.date} id={`date-${day.date}`} className="relative animate-fadeIn">
                    {/* Date Header */}
                    <div className="flex items-center gap-3 mb-5 sticky top-32 z-30 bg-slate-50/95 py-3 backdrop-blur-sm border-b border-slate-100/50">
                      <div className={`px-3 py-1 rounded-full text-xs font-bold border shadow-sm ${cityColors[day.city] || "bg-gray-100"}`}>
                        {cityBadges[day.city] || day.city}
                      </div>
                      <h2 className="text-xl font-bold text-slate-800">
                        {new Date(day.date).toLocaleDateString('zh-TW', { month: 'long', day: 'numeric' })}
                      </h2>
                    </div>

                    {/* Hotel Info */}
                    {day.hotel && (
                       <div className="mb-6 bg-white rounded-2xl p-4 flex items-start gap-4 border border-cyan-50 shadow-sm ring-1 ring-cyan-100/50">
                          <div className="bg-cyan-50 p-2 rounded-full text-cyan-600 shrink-0">
                            <Hotel className="w-5 h-5" />
                          </div>
                          <div className="flex-1">
                            <div className="text-[10px] text-cyan-500 font-bold uppercase tracking-wider mb-0.5">ä½å®¿</div>
                            <div className="text-sm font-bold text-slate-900 leading-snug">{day.hotel}</div>
                            <button 
                              onClick={() => openMap(day.hotel + " " + day.city)}
                              className="text-xs font-semibold text-cyan-600 mt-2 flex items-center gap-1 hover:text-cyan-800 bg-cyan-50 px-2 py-1 rounded-md w-fit transition-colors"
                            >
                              å°èˆª <Navigation className="w-3 h-3 inline" />
                            </button>
                          </div>
                       </div>
                    )}

                    {/* Timeline */}
                    <div className="relative border-l-2 border-slate-200 ml-4 space-y-8 pb-2">
                      {day.activities.map((activity, actIndex) => (
                        <div key={actIndex} className="relative pl-8">
                          {/* Timeline Dot */}
                          <div className={`absolute -left-[9px] top-4 w-4 h-4 rounded-full border-[3px] border-slate-50 shadow-sm z-10 ${
                            activity.type === 'dinner' || activity.type === 'lunch' ? 'bg-orange-400' : 
                            activity.type === 'transit' ? 'bg-slate-500' : 'bg-cyan-500'
                          }`}></div>
                          
                          {/* Card */}
                          <div 
                            onClick={() => openMap(activity.name + " " + day.city)}
                            className="bg-white rounded-2xl p-4 shadow-[0_2px_8px_rgba(0,0,0,0.04)] border border-slate-100 hover:shadow-md transition-all cursor-pointer active:scale-[0.98] active:bg-slate-50"
                          >
                            <div className="flex justify-between items-center mb-3">
                               <span className={`text-[10px] font-bold px-2 py-1 rounded-md text-white shadow-sm ${
                                 activity.type === 'dinner' || activity.type === 'lunch' ? 'bg-orange-400' : 
                                 activity.type === 'transit' ? 'bg-slate-500' : 'bg-cyan-500'
                               }`}>
                                 {activity.time}
                               </span>
                               <span className="text-slate-400">
                                 {(activity.name.includes("æ…•å°¼é»‘") || activity.name.includes("ç‡ˆæ¨¹")) && <TreeIcon className="w-4 h-4" />}
                                 {(activity.name.includes("èµ·é£›") || activity.name.includes("æŠµé”")) && <PlaneIcon className="w-4 h-4" />}
                                 {activity.type === 'transit' && !activity.name.includes("èµ·é£›") && <Car className="w-4 h-4" />}
                                 {(activity.type === 'lunch' || activity.type === 'dinner') && <Utensils className="w-4 h-4" />}
                                 {(activity.type === 'sightseeing' || activity.type === 'shopping') && !activity.name.includes("æ…•å°¼é»‘") && <MapPin className="w-4 h-4" />}
                                 {activity.type === 'hotel' && <Hotel className="w-4 h-4" />}
                               </span>
                            </div>
                            
                            <h3 className="font-bold text-slate-800 text-base mb-1.5 leading-snug">{activity.name}</h3>
                            
                            {activity.notes && (
                              <div className="bg-slate-50 rounded-lg p-2.5 mt-2">
                                <p className="text-xs text-slate-600 font-medium leading-relaxed">
                                  {activity.notes}
                                </p>
                              </div>
                            )}
                          </div>
                        </div>
                      ))}
                    </div>

                  </div>
                ))}

                {/* Footer */}
                <div className="text-center text-slate-400 text-xs font-medium pt-8 pb-12">
                  <p>Safe Driving in Hokkaido! ğŸš—â„ï¸</p>
                </div>
              </div>

              {/* FAB */}
              <button 
                onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
                className="fixed bottom-8 right-6 bg-slate-900/90 text-white p-3.5 rounded-full shadow-xl hover:bg-black transition-all z-40 active:scale-90 backdrop-blur-sm mb-safe safe-pb"
              >
                <ArrowLeft className="w-6 h-6 rotate-90" />
              </button>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<HokkaidoTripApp />);
    </script>
</body>
</html>
